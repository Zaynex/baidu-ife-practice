<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		input{
			width: 200px;
			height: 40px;
			border-radius: 4px;
			font-size: 16px;
		}
		button{
			width: 100px;
			height: 40px;
			line-height: 40px;
			border: 0;
			border-radius: 3px;
			border: 1px solid #ccc;
		}
		#list{
			display: flex;
			align-items: flex-end;
		}
		#list div{
			margin-right: 10px;
			cursor:pointer;
		}
	</style>
</head>
<body>
	<input type="text">
	<button id="left-in">左侧入</button>
	<button id="right-in">右侧入</button>
	<button id="left-out">左侧出</button>
	<button id="right-out">右侧出</button>
	<div id="list"></div>
	<script>

		function addEvent(element, event, listener) {
			if (element.addEventListener) {
				element.addEventListener(event, listener, false);
			}else if(element.attachEvent){
				element.attachEvent("on" + event, listener);
			}else {
				element["on" + event] = listener;
			}
		}
	window.onload = function(){
		var data = [];
		var $ = function(e) {return document.querySelector(e);};
		
		var list = $("#list");
		function render(){
			list.innerHTML = data.map(function(d){
				return "<div>" + d +"</div>";
			}).join("");
		}
		function getClickIndex(e) {
			var node = e.target;
			return [].indexOf.call(node.parentNode.children, node)
		}
		addEvent($("#left-in"), "click", function(){
			var myValue = $("input").value;
			data.unshift(myValue);
			//list.innerHTML = "<div>" + data.join('') + "</div>" ;这种方式只能产生一个div标签，并且所有的数字全都挤在一个div标签内，无法设置样式。而我们需要的是，每输入一个数字便生成一个相应的标签，到时候删掉该标签即可，不会影响其他数字。
			//想法：给每个data数组元素都执行函数并返回。
			render();
		})
		addEvent($("#right-in"),"click", function(){
			var myValue = $("input").value;
				data.push(myValue);
				render();
		})
		addEvent($("#left-out"), "click", function(){
			var myValue = $("input").value;
			alert(data.shift(myValue));
			render();
		})
		addEvent($("#right-out"), "click", function(){
			var myValue = $("input").value;
			alert(data.pop(myValue));
			render();
		})
		addEvent($("#list"),"click", function(e){
			data.splice(getClickIndex(e),1);
			render();
		});
	}
	

	</script>
</body>
</html>